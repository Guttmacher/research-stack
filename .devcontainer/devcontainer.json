{
  "name": "Base Container Development Environment",
  
  // Build from the existing Dockerfile in the repository
  "build": {
    "dockerfile": "../Dockerfile",
    "context": ".."
  },
  
  // VS Code customizations
  "customizations": {
    "vscode": {
      "extensions": [
      ],
      "settings": {
        "terminal.integrated.defaultProfile.linux": "zsh"
      }
    }
  },
  
  // Run setup commands after container creation
  // "postCreateCommand": "",
  
  // Use non-root user for security
  "remoteUser": "me",
  "updateRemoteUserUID": true,
  // If you mount this image with Colima on macOS, you need to configure
  // it to use vz for proper UID/GID mapping.
  // To do this, run the following commands:
  // colima stop
  // colima delete
  // colima start --vm-type vz --mount-type virtiofs
  
  "mounts": [
    // Mount the Docker socket for Docker-in-Docker scenarios
    "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind",
    // Mount your Git configuration file
    "source=${localEnv:HOME}/.gitconfig,target=/home/me/.gitconfig,type=bind,consistency=cached,readonly",
  ],
  
  // Environment variables for development
  "containerEnv": {
    "DEVELOPMENT": "true"
  },
  
  // Keep container running
  "shutdownAction": "stopContainer"
}
